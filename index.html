<!DOCTYPE html>
<html ng-app="myApp">
	
<head>
    <meta charset="utf-8">
    <link href="css/bootstrap.min.css" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">	
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	
	
<script src = "js/angular.min.js"></script>
<script src = "js/angular-route.min.js"></script>
<script src="app/app.js"></script>   
	
	
	
	
<style type="text/css">
/* required style*/ 
.none{display: none;}

/* optional styles */
table tr th, table tr td{font-size: 1.2rem;}
.row{ margin:20px 20px 20px 20px;width: 100%;}
.glyphicon{font-size: 20px;}
.glyphicon-plus{float: right;}
a.glyphicon{text-decoration: none;cursor: pointer;}
.glyphicon-trash{margin-left: 10px;}
.alert{
    width: 50%;
    border-radius: 0;
    margin-top: 10px;
    margin-left: 10px;
}
</style>
	
</head>

	<body>
		<div class="container" ng-controller="listCtrl">
	
	   <div class="row" >
    	<h2>Dashboard  </h2>
	
    <div class="col-sm-6" ng-show="cities.length > 0">
		<h2> Weather monitoring</h2><hr>
		
		  	
		<h2> TOP Cities</h2>   
		     <table class="table table-striped">
			   <thead>	
                <tr>
                    <th width="5%">#</th>
                    <th width="10%">City</th>
                    <th width="10%">Temperature</th>
             
                </tr>
				</thead>
				<tbody ng-init="max_temperature()">
                <tr ng-repeat="c in topcities">
                    <td><input type="hidden" name="id" value=""></td>
                    <td>{{c.city}}</td>
                    <td>{{c.temp_act}}</td>
                    
                </tr>
			    </tbody>
           </table>
		
		<h3> Cities </h3>
        <div class="panel panel-default users-content">
            <div class="panel-heading">Brazil - Cities <a href="javascript:void(0);" class="glyphicon glyphicon-plus" onClick="$('.formData').slideToggle();"></a></div>
 
            <div class="panel-body none formData">
				<div class="col-sm-6" >
                <form class="form" name="cityForm" >
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" class="form-control" name="name" ng-model="city.name"/>
                    </div>
					 <a href="javascript:void(0);" class="btn btn-success" ng-hide="" ng-click="saveCity(city)">Add City by NAME</a>
                   
                </form>
			     </div>
				<div class="col-sm-6" >
					<form class="form" name="cityForm">
                  
                    <div class="form-group">
                        <label>CEP</label>
                        <input type="text" class="form-control" name="cep" ng-model="cep_city"/>
                    </div>
                 
						
                  <a href="javascript:void(0);" class="btn btn-success" ng-hide="" ng-click="insertCityByCep(cep_city)">Add City by CEP</a>
              
                </form>
				</div>				
				
            </div>
            <table id= "myTable" class="table table-striped">
			   <thead>	
                <tr>
                    <th width="5%">#</th>
                    <th width="10%">Name</th>
                    <th width="10%">CEP</th>
                    <th width="20%">Created</th>
                    <th width="20%"></th>
                </tr>
				</thead>
				<tbody >
                <tr ng-repeat="c in cities">
                    <td><input type="hidden" name="id" value=""></td>
                    <td>{{c.name}}</td>
                    <td>{{c.cep}}</td>
                    <td>{{c.created}}</td>
                    <td>
                        <a href="javascript:void(0);" class="glyphicon glyphicon-dashboard" ng-click="showWeather(c.name)"></a>
						
                        <a href="javascript:void(0);" class="glyphicon glyphicon-trash" ng-click="deleteCity(c)"></a>
						
						
                    </td>
                </tr>
			    </tbody>
           </table>
         </div>				

     </div>
	
		   
		      <form class="form" name="weatherForm">
		   
		   <div class="col-sm-6">
			
			 
		  <h2>Temperature variation</h2>
			<hr>
          <div class="col-sm-6">
			 
			  <table>
			  <tr> 
				  <td><b>City       </b></td>
				  <td>{{x.results.city_name}}</td>
			  </tr>
			  <tr>
				  <td><b>Temperature </b> </td>
				  <td>{{x.results.temp}} </td>
			  </tr>
			   <tr> 
				  <td><b>Date        </b> </td>
				  <td>{{x.results.date}} </td>
			  </tr>
			  <tr>
				  <td><b>Time        </b> </td>
				  <td>{{x.results.time}}</td>
			  </tr>
			  </table> 
	
		</div>
		 <div class="col-sm-6">
			<img src="imagens/{{x.results.img_id}}.png" class="imagem-do-tempo">
		</div>	
		         <a href="" class="btn btn-success" ng-hide="" ng-click="clearHistory(x.results.city_name)">Clear temperature history</a>
		
			    <table class="table table-striped">
			   <thead>	
                <tr>
                    <th width="10%">Date</th>
					<th width="10%">Temp Act</th>
                    <th width="5%">Maximum °</th>
			        <th width="5%">Minimum °</th>
                </tr>
				</thead>
				 <tbody>
                <tr ng-repeat="x in weathers">
					
                    <td>{{x.date}}</td>
					<td>{{x.temp_act}} </td>
                    <td>{{x.temp_min}} </td>
					<td>{{x.temp_max}} </td>
                </tr>
				</tbody>
            </table>
			   
			
    </div>
		  
	 </form> 	   
		   
	
   </div>
			

					
			
  </div>

</body>
</html>